# ðŸ‘¤ Driver Profile Guide

## âœ… Profile Features Available for Drivers

Good news! **Drivers already have full profile functionality!** Here's what they can do:

---

## ðŸŽ¯ Features

### 1. **View Profile**
- Click the profile button in the header (shows name and profile picture)
- View all profile information:
  - Username
  - Full Name
  - Email
  - Phone Number
  - Role (Driver)
  - Profile Picture

### 2. **Edit Profile**
Drivers can update:
- âœï¸ Full Name
- âœ‰ï¸ Email Address
- ðŸ“± Phone Number (format: 09XXXXXXXXX)
- ðŸ”’ Password (optional - leave blank to keep current)

### 3. **Profile Picture**
- ðŸ“· Upload profile picture (JPG, PNG, GIF)
- ðŸ—‘ï¸ Remove profile picture
- ðŸ‘ï¸ Preview before upload
- Maximum size: 2MB

---

## ðŸ“ How to Access (Driver)

### Step 1: Login as Driver
```
Username: driver1 (or any driver account)
Password: driver123
```

### Step 2: Click Profile Button
- Located in the **top right** corner of the header
- Shows your name and profile picture/initial
- Click to open profile modal

### Step 3: View or Edit
- **View Profile**: See all your information
- **Edit Profile**: Click "âœï¸ Edit Profile" button
- **Change Picture**: Click "ðŸ“· Change Profile Picture" button

---

## ðŸ–¼ï¸ Profile Layout

### Profile View Modal
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚           My Profile                     â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                          â”‚
â”‚            [Profile Picture]             â”‚
â”‚               or [Initial]               â”‚
â”‚                                          â”‚
â”‚   [ðŸ“· Change Profile Picture]            â”‚
â”‚   [ðŸ—‘ï¸ Remove Picture] (if has picture)  â”‚
â”‚                                          â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚ Username: driver1                  â”‚ â”‚
â”‚  â”‚ Full Name: Juan Dela Cruz          â”‚ â”‚
â”‚  â”‚ Email: driver1@example.com         â”‚ â”‚
â”‚  â”‚ Phone Number: 09123456789          â”‚ â”‚
â”‚  â”‚ Role: [driver]                     â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                          â”‚
â”‚   [âœï¸ Edit Profile]  [Close]            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### Edit Profile Modal
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚           Edit Profile                   â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                          â”‚
â”‚  Username: driver1 (disabled)            â”‚
â”‚                                          â”‚
â”‚  Full Name: [___________________]        â”‚
â”‚                                          â”‚
â”‚  Email: [___________________]            â”‚
â”‚                                          â”‚
â”‚  Phone Number: [___________________]     â”‚
â”‚  Format: 09XXXXXXXXX (11 digits)         â”‚
â”‚                                          â”‚
â”‚  New Password: [___________________]     â”‚
â”‚  (leave blank to keep current)           â”‚
â”‚                                          â”‚
â”‚  Confirm Password: [___________________] â”‚
â”‚                                          â”‚
â”‚  [ðŸ’¾ Save Changes]  [Cancel]            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ðŸŽ¨ Visual Indicators

### Profile Button in Header
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Waste Management System                        â”‚
â”‚                                                  â”‚
â”‚                    [ðŸ‘¤ Juan Dela Cruz] [Logout] â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### With Profile Picture
```
[ðŸ–¼ï¸ Juan Dela Cruz]
```

### Without Profile Picture (Shows Initial)
```
[J Juan Dela Cruz]
```

---

## ðŸ“± Driver-Specific Features

### What Drivers See:
1. âœ… Profile button (top right)
2. âœ… View profile information
3. âœ… Edit profile details
4. âœ… Change profile picture
5. âœ… Change password
6. âœ… Logout button

### What Drivers DON'T See:
- âŒ Notification badge (admin only)
- âŒ User management (admin only)
- âŒ Route assignment (admin only)
- âŒ System settings (admin only)

---

## ðŸ”§ API Endpoints Used

### Get Profile
```
GET /api/profile/me
Authorization: Bearer {token}
```

### Update Profile
```
PUT /api/profile/me
Authorization: Bearer {token}
Content-Type: application/json

{
  "fullName": "Juan Dela Cruz",
  "email": "driver1@example.com",
  "phoneNumber": "09123456789",
  "password": "newpassword" (optional)
}
```

### Upload Profile Picture
```
POST /api/profile/picture
Authorization: Bearer {token}
Content-Type: multipart/form-data

profilePicture: [file]
```

### Remove Profile Picture
```
DELETE /api/profile/picture
Authorization: Bearer {token}
```

---

## ðŸ§ª Testing Driver Profile

### Test Steps:
1. **Login as driver**
   ```
   Username: driver1
   Password: driver123
   ```

2. **Click profile button** (top right, shows name)

3. **View profile** - Should see all information

4. **Edit profile**:
   - Click "âœï¸ Edit Profile"
   - Update Full Name: "Test Driver Updated"
   - Update Phone: "09987654321"
   - Click "ðŸ’¾ Save Changes"

5. **Change profile picture**:
   - Click "ðŸ“· Change Profile Picture"
   - Select an image file
   - Preview should appear
   - Click "ðŸ“¤ Upload Picture"

6. **Verify changes**:
   - Profile picture should appear in header
   - Name should be updated
   - Reload page to confirm persistence

---

## ðŸš¨ Common Issues

### Issue 1: "Profile button not visible"
**Solution:**
- Make sure you're logged in
- Check if header is loaded
- Hard refresh: Ctrl+Shift+R

### Issue 2: "Cannot update profile"
**Solution:**
- Check if all required fields are filled
- Email must be valid format
- Phone must be 11 digits (09XXXXXXXXX)
- Password must be at least 6 characters

### Issue 3: "Profile picture not uploading"
**Solution:**
- File must be JPG, PNG, or GIF
- File size must be under 2MB
- Check browser console for errors

### Issue 4: "Changes not saving"
**Solution:**
- Check network connection
- Verify token is valid (not expired)
- Check server is running
- Look for errors in browser console

---

## ðŸ“Š Profile Data Structure

```javascript
{
  "username": "driver1",
  "fullName": "Juan Dela Cruz",
  "email": "driver1@example.com",
  "phoneNumber": "09123456789",
  "role": "driver",
  "profilePicture": "/uploads/profile-pictures/driver1-1234567890.jpg"
}
```

---

## ðŸŽ¯ Best Practices

### For Drivers:
1. âœ… Keep profile information up to date
2. âœ… Use a professional profile picture
3. âœ… Ensure phone number is correct (for emergencies)
4. âœ… Use a strong password
5. âœ… Update password regularly

### For Admins:
1. âœ… Encourage drivers to complete their profiles
2. âœ… Verify driver contact information
3. âœ… Monitor profile picture appropriateness
4. âœ… Help drivers with profile issues

---

## ðŸ“ Profile Validation Rules

### Full Name:
- Required field
- Any characters allowed
- Recommended: First and Last name

### Email:
- Required field
- Must be valid email format
- Example: driver@example.com

### Phone Number:
- Optional field
- Must be exactly 11 digits
- Must start with 09
- Format: 09XXXXXXXXX
- Example: 09123456789

### Password:
- Optional when editing (leave blank to keep current)
- Minimum 6 characters when changing
- Must match confirmation

### Profile Picture:
- Optional
- Accepted formats: JPG, JPEG, PNG, GIF
- Maximum size: 2MB
- Recommended: Square image (e.g., 500x500px)

---

## ðŸ” Debugging

### Check if profile is loaded:
```javascript
// Run in browser console
fetch('http://localhost:3000/api/profile/me', {
  headers: {
    'Authorization': `Bearer ${localStorage.getItem('token')}`
  }
})
.then(r => r.json())
.then(d => console.log('Profile:', d));
```

### Check if functions exist:
```javascript
// Run in browser console
console.log('showProfile:', typeof showProfile);
console.log('showEditProfile:', typeof showEditProfile);
console.log('showChangeProfilePicture:', typeof showChangeProfilePicture);
```

### Check current user:
```javascript
// Run in browser console
console.log('Current user:', user);
console.log('Role:', user.role);
```

---

## âœ… Summary

**Drivers already have full profile functionality!** They can:
- âœ… View their profile
- âœ… Edit their information
- âœ… Upload/change profile picture
- âœ… Change their password
- âœ… See their profile picture in the header

**No additional implementation needed** - the feature is already complete and working for all users including drivers!

---

**Last Updated:** November 23, 2025
**Status:** âœ… Fully Implemented
